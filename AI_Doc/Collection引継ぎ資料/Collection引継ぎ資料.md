# Component引継ぎ資料: Collection (図鑑機能)

## 1. 機能概要
`CollectionScreen` は、ゲーム内のアイテム、装備、キャラクター、ストーリーなどの情報を閲覧するための「図鑑」機能を提供する画面コンポーネントです。現在は「キャラクター図鑑」が実装されており、動的にアセットパスを解決して表示します。

## 2. レイアウト構成表
画面の視覚的な構造は以下の通りです。

| セクション | 要素 | 説明 |
| :--- | :--- | :--- |
| **Top Nav** | カテゴリナビゲーション | 「アイテム」「装備」「ライブラリー」などの大カテゴリを切り替えます。 |
| **Sub Nav** | サブカテゴリナビゲーション | 選択された大カテゴリに応じた詳細カテゴリ（例：背景図鑑、キャラクター図鑑）を表示します。 |
| **Sidebar** | リスト表示エリア | 選択されたカテゴリに属する項目（キャラクター名など）の一覧を表示します。 |
| **Main Detail** | 詳細閲覧エリア | 選択された項目の詳細情報（カード、アイコン、立ち絵、CGなど）をグリッドレイアウトで表示します。 |

## 3. 機能一覧表
提供されている主な機能は以下の通りです。

| 機能名 | 操作 | 説明 |
| :--- | :--- | :--- |
| **カテゴリ切替** | ナビボタンをクリック | 表示する情報の種類を切り替えます。未実装のカテゴリは `disabled` 状態で制御されています。 |
| **項目選択** | サイドバーのリストをクリック | 特定のキャラクターなどを選択し、右側の詳細エリアに反映します。 |
| **動的アセット解決** | 自動 | `characterRegistry` を介して、各キャラクターの表情差分アイコン（60x60）などのパスを解決します。 |
| **レスポンシブ表示** | 自動（CSS） | 詳細エリア内のカード、アイコン、CGギャラリーなどをレスポンシブなグリッドで表示します。 |

## 4. 技術仕様と依存関係

### 4.1 構成ファイル
- **UI**: `src/screens/CollectionScreen.jsx`
- **スタイル**: `src/styles/CollectionScreen.css`
- **ロジック/ユーティリティ**: `src/utils/characterRegistry.js`
- **データ定義**: `src/assets/AssetPaths.json`

### 4.2 データ構造 (`AssetPaths.json`)
キャラクターのアイコンやバリエーションは以下の形式で定義されています。
```json
"CHARACTERS": {
    "レムナント": {
        "name": "レムナント",
        "defaultIcon": "icon_remnant.png",
        "variants": {
            "smile": "icon_remnant_smile.png",
            "angry": "icon_remnant_angry.png"
        }
    }
}
```

## 5. 移植・再利用時の注意
- **アセットパス**: `characterRegistry.js` は `import.meta.url` を使用して相対パスを解決しています。移植先のディレクトリ構造に合わせてパスの調整が必要になる場合があります。
- **実装状況**: 
    - 「ライブラリー > キャラクター図鑑」: 完全実装済み。
    - 「Sound > BGM」: `BGMPlayerScreen` を埋め込みモードで表示。ヘッダー（Top Nav/Sub Nav）を保持したまま操作可能。
    - その他カテゴリ: プレースホルダー表示。
